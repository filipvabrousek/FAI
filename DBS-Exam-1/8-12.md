## SQL 8 - 12


## 8 

* modifikátory: not null, primary key, unique
```sql
CREATE TABLE Kniha (
IDKniha int primary key,
Nazev varchar(50) not null
)
```

```sql
ALTER TABLE S
ADD name varchar(50)

DROP TABLE S
DROP DATABASE
```

## 9

```sql
INSERT INTO Student
VALUES ('Filip', '2');
```

```sql
UPDATE Predmet 
SET Mistnost = '52-205'
WHERE Nazev = 'DBS';
```

```sql
ALTER TABLE C 
DROP COLUMN X

DELETE FROM C WHERE ct LIKE "%1%";
```


## 10

```sql
SELECT name FROM D WHERE name = "Filip"
```
* missing PIVOT????  !!!

* data restricition !!!
```sql
SELECT TOP 100 FROM D
```




## 11
* LEFT JOIN
* RIGHT JOIN
* INNER JOIN
http://www.sql-join.com/sql-join-types
* starší konstrukce

```sql
SELECT P.c FROM Posts 
LEFT JOIN C ON P.id = C.id 
ORDER BY LENGTH(C.content) ASC
```

## 12
* count, sum, avg, min, max
```sql
SELECT COUNT(*) FROM D 
SELECT AVG(n) FROM T 
```


## 13
* scalar functions
```sql
CREATE FUNCTION fnbal_invoice()  
RETURNS MONEY  
BEGIN  
RETURN(SELECT SUM(invoicetotal-paymenttotal-creadittotal)  
        FROM dbo.mcninvoices  
        WHERE invoicetotal-paymenttotal-creadittotal > 0 )  
END
```

## 14 
```sql
SELECT *  FROM C WHERE id IN 
(SELECT id FROM C WHERE s > 100);
```

```sql
UNION ALL
INTERSECT
```

## 15 - Větvení, proměnné

```sql
SELECT 
CASE 
DATEPART(WEEKDAY, GETDATE()) 
WHEN1 THEN‘Neděle’
WHEN 2 THEN ‘Pondělí’
WHEN 3 THEN ‘Úterý’ 
WHEN 4 THEN ‘Středa’ 
WHEN 5 THEN ‘Čtvrtek’ 
WHEN 6 THEN ‘Pátek’ 
WHEN 7 THEN ‘Sobota’ END 

```


```sql
DECLARE @MyCounter int;

-- Initialize the variable.
SET @MyCounter = 0;

-- Test the variable to see if the loop is finished.
WHILE (@MyCounter < 26)
BEGIN;
```

