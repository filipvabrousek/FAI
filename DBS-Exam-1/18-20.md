## 18 - Bezpečnost
* Autentizace = udělení přístupových práv ```GRANT``` ```DENY``` ```REVOKE```
* Windows Authentication (po síti se neposílají hesla), SQL Authentication (odch. pakety)
* Autorizace =  oprávnění, po přihlášení je předán uživateli token, token předán zdrojům, povolí / zakáže přístup
* přístup ke vzdálenému zdroji je na něm vytvořen lokální přístupový token 
* Auditování = zaznamenávání událostí o činnosti uživatelů
* rizika, minimální oprávnění (explain)

```sql
Triggery
SQLTraceo
SQL Audit
```
### Zálohování
* full, differential, transaction log backup
* RPO: recovery, objective point (lze ztratit data max do cca. 1 dne)
* lokální disky, externí disky
```sql
BACKUP DATABASE D TO DISK "C:/" WITH DIFFERENTIAL
```

### Replikace
* vytvoření věrné kopie z primárního -> sek. uložiště (fyz. odl.)
* master slave (zpis pouze master)
* peer-to-peer (všechny uzly jsou si rovné)

### Šifrování
* ireversibilní: hesla, neumožňuje zpět, např ```PASSWORD()```
* reversibilní: kred. karty, asymetrické šifrování RSA, symetrické šifrování DES
* vytvoření MASTER klíče, certifikátu, šifrovacího klíče a povolení šifrování v databázi


## 19 - Transactions
* make all or none tasks finish

```sql

BEGIN TRANSACTION [Tran1]

INSERT INTO [Test].[dbo].[T1]
    ([Title], [AVG])
VALUES ('Tidd130', 130), ('Tidd230', 230)

UPDATE [Test].[dbo].[T1]
  SET [Title] = N'az2' ,[AVG] = 1
  WHERE [dbo].[T1].[Title] = N'az'

COMMIT TRANSACTION [Tran1]
```


## 20
* to-do:
